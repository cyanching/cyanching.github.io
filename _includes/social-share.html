{% include base_path %}
<!--
<section class="page__share">
  {% if site.data.ui-text[site.locale].share_on_label %}
    <h4 class="page__share-title">{{ site.data.ui-text[site.locale].share_on_label | default: "Share on" }}</h4>
  {% endif %}

  <a href="https://twitter.com/intent/tweet?text={{ base_path }}{{ page.url }}" class="btn btn--twitter" title="{{ site.data.ui-text[site.locale].share_on_label | default: 'Share on' }} Twitter"><i class="fab fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u={{ base_path }}{{ page.url }}" class="btn btn--facebook" title="{{ site.data.ui-text[site.locale].share_on_label | default: 'Share on' }} Facebook"><i class="fab fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ base_path }}{{ page.url }}" class="btn btn--linkedin" title="{{ site.data.ui-text[site.locale].share_on_label | default: 'Share on' }} LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>
-->

<section class="page__share">
  {% if site.data.ui-text[site.locale].share_on_label %}
    <h4 class="page__share-title">{{ site.data.ui-text[site.locale].share_on_label | default: "Share" }}</h4>
  {% endif %}
  <button onclick="copyLink()" class="btn btn--copy" title="Copy link to clipboard">
    <i class="fas fa-link"></i><span>Copy Link</span>
  </button>
  <input type="text" id="linkToCopy" value="{{ base_path }}{{ page.url }}" style="position: absolute; opacity: 0; pointer-events: none;" />
</section>

<script>
  function copyLink() {
    const link = "{{ base_path }}{{ page.url }}";
    const fallbackInput = document.getElementById('linkToCopy');

    // Try modern Clipboard API
    if (navigator.clipboard) {
      navigator.clipboard.writeText(link)
        .then(() => {
          const btn = document.querySelector('.btn--copy');
          btn.innerHTML = '<i class="fas fa-check"></i><span>Copied!</span>';
          setTimeout(() => {
            btn.innerHTML = '<i class="fas fa-link"></i><span>Copy Link</span>';
          }, 2000);
        })
        .catch(err => {
          console.error('Clipboard API failed:', err);
          fallbackCopy(fallbackInput, link);
        });
    } else {
      // Fallback for older browsers
      fallbackCopy(fallbackInput, link);
    }
  }

  function fallbackCopy(input, text) {
    input.value = text;
    input.select();
    input.setSelectionRange(0, 99999); // For mobile
    document.execCommand('copy');
    const btn = document.querySelector('.btn--copy');
    btn.innerHTML = '<i class="fas fa-check"></i><span>Copied!</span>';
    setTimeout(() => {
      btn.innerHTML = '<i class="fas fa-link"></i><span>Copy Link</span>';
    }, 2000);
  }
</script>

