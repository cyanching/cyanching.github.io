{% include base_path %}
<!--
<section class="page__share">
  {% if site.data.ui-text[site.locale].share_on_label %}
    <h4 class="page__share-title">{{ site.data.ui-text[site.locale].share_on_label | default: "Share on" }}</h4>
  {% endif %}

  <a href="https://twitter.com/intent/tweet?text={{ base_path }}{{ page.url }}" class="btn btn--twitter" title="{{ site.data.ui-text[site.locale].share_on_label | default: 'Share on' }} Twitter"><i class="fab fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u={{ base_path }}{{ page.url }}" class="btn btn--facebook" title="{{ site.data.ui-text[site.locale].share_on_label | default: 'Share on' }} Facebook"><i class="fab fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ base_path }}{{ page.url }}" class="btn btn--linkedin" title="{{ site.data.ui-text[site.locale].share_on_label | default: 'Share on' }} LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>
-->

<section class="page__share">
  {% if site.data.ui-text[site.locale].share_on_label %}
    <h4 class="page__share-title">{{ site.data.ui-text[site.locale].share_on_label | default: "Share" }}</h4>
  {% endif %}
  <button onclick="copyLink()" class="btn btn--copy" title="Copy link to clipboard">
    <i class="fas fa-link"></i><span>Copy Link</span>
  </button>
  <textarea id="linkToCopy" style="position: absolute; opacity: 0; pointer-events: none;">{{ base_path }}{{ page.url }}</textarea>
</section>

<script>
  function copyLink() {
    const textarea = document.getElementById('linkToCopy');
    textarea.select();
    textarea.setSelectionRange(0, 99999); // For mobile devices

    try {
      const successful = document.execCommand('copy');
      const btn = document.querySelector('.btn--copy');
      btn.innerHTML = '<i class="fas fa-check"></i><span>Copied!</span>';
      setTimeout(() => {
        btn.innerHTML = '<i class="fas fa-link"></i><span>Copy Link</span>';
      }, 2000);
    } catch (err) {
      alert('Unable to copy. Please copy the link manually: ' + textarea.value);
    }
  }
</script>
